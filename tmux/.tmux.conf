# -------------------------------------------------------------------
# tmux configuration file
#
# based on the work of Jason Ryan.
# http://beta.intuxication.org/jasonwryan/archer/file/tip/.tmux/conf
#
# vim:fenc=utf-8:ft=conf:
# -------------------------------------------------------------------

# set correct term
set -g default-terminal screen-256color

# reload config without killing server
bind R source-file ~/.tmux.conf \; display-message "  Config reloaded..".

# act like vim
setw -g mode-keys vi
unbind [
bind Escape copy-mode
unbind p
bind p paste-buffer
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy 'y' copy-selection

# more intuitive keybindings for splitting
unbind %
bind h split-window -v
unbind '"'
bind v split-window -h

# open %% man page
bind C-m command-prompt -p "Open man page for:" "new-window 'exec man %%'"

# enable mouse selection in copy mode
setw -g mode-mouse on

# 0 is too far
set -g base-index 1

# statusbar --------------------------------------------------------------
set -g status-utf8 on
set -g status-left-length 20
set -g status-left "#h: #S"
set -g status-right "%d/%m/%Y %H:%M"
set -g window-status-format "#I: #W "
set -g window-status-current-format "#I* #W "

set -g status-interval 1
set -g status-justify centre # center align window list

# default statusbar colors
set -g status-fg white
set -g status-bg black

# default window title colors
set-window-option -g window-status-fg yellow
set-window-option -g window-status-bg default
set-window-option -g window-status-attr bright

# active window title colors
set-window-option -g window-status-current-fg white
set-window-option -g window-status-current-bg default
set-window-option -g window-status-current-attr bright

# command/message line colors
set -g message-fg white
set -g message-bg black
set -g message-attr bright

# highlight status bar on activity
set -g visual-activity on

# use clipboard in mac os x.
set -g default-command "reattach-to-user-namespace -l zsh"
bind C-c run "tmux save-buffer - | reattach-to-user-namespace pbcopy"
bind C-v run "reattach-to-user-namespace pbpaste | tmux load-buffer - && tmux paste-buffer"
